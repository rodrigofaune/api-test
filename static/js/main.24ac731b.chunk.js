(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{41:function(e,t,r){e.exports=r(71)},46:function(e,t,r){},47:function(e,t,r){},71:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(16),c=r.n(o),i=(r(46),r(3)),s=r(11),l=(r(47),r(10)),u=r(13),p=r.n(u),m=r(18),d=r(26),E=r(9),g=function(e){return{type:"GET_CHARACTERS_SUCCESS",payload:{info:e.info,characters:e.characters}}},f={infoApi:{count:0,pages:0,next:"https://rickandmortyapi.com/api/character/",prev:"",currentPage:0},characters:[],loading:!0,error:null},v=r(37),b=r.n(v),h={getCharacters:function(){return function(){var e=Object(m.a)(p.a.mark(function e(t,r){var a,n,o,c,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_CHARACTERS_REQUEST"}),a=r().characters.infoApi.next,e.prev=2,e.next=5,b.a.get(a);case 5:n=e.sent,o=n.data,c=o.results,i=o.info,t(g({info:i,characters:c})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t({type:"GET_CHARACTERS_ERROR",payload:{error:e.t0}});case 13:case"end":return e.stop()}},e,null,[[2,10]])}));return function(t,r){return e.apply(this,arguments)}}()}},O=Object(l.b)(function(e){var t=e.characters,r=t.characters,a=t.loading,n=t.error,o=t.infoApi;return{characters:r,loading:a,error:n,count:o.count,currentPage:o.currentPage,pages:o.pages}},h)(function(e){var t=e.characters,r=e.loading,o=(e.error,e.pages),c=e.currentPage,i=e.count,s=e.getCharacters;return Object(a.useEffect)(function(){s()},[]),n.a.createElement("div",{className:"App App-header"},r&&"Loading.....",n.a.createElement("div",null,"Hay ",i," elementos."),t.map(function(e,t){return n.a.createElement("div",{key:t},e.name,n.a.createElement("img",{style:{height:"100px"},src:e.image,alt:""}))}),n.a.createElement("div",null,"Hay ",o," p\xe1ginas, est\xe1s en la p\xe1gina ",c," "),!r&&c<o&&n.a.createElement("button",{onClick:s},"Ver m\xe1s"))}),w=function(){return n.a.createElement("div",null,n.a.createElement(i.b,{to:"/"},"Ir a Home"),n.a.createElement(i.b,{to:"/episodes"},"Ver Epidios"),n.a.createElement(i.b,{to:"/comparisons"},"Comparaciones"),n.a.createElement(O,null))},y=function(){return n.a.createElement("div",null,n.a.createElement(i.b,{to:"/api-test/characters"},"Ver Personajes"),n.a.createElement(i.b,{to:"/api-test/episodes"},"Ver Epidios"),n.a.createElement(i.b,{to:"/api-test/comparisons"},"Comparaciones"),n.a.createElement(i.b,{to:"/api-test/login"},"Salir"),"Bienvenidos al Home")},S=r(19),j=r(40),C=function(e){return{type:"LOGIN_FAIL",payload:{error:e}}},R={loading:!1,users:{1:{id:"1",email:"rick@rm.com",password:"123",name:"Rick"},2:{id:"2",email:"morty@rm.com",password:"123",name:"Mory"},3:{id:"3",email:"beth@rm.com",password:"123",name:"Beth"}},userList:["1","2","3"]},A=function(e,t,r){var a=r.users,n=a.userList,o=a.users,c=n.find(function(r){return o[r].email===e&&o[r].password===t});return{userId:c,error:!c&&"Password o email inv\xe1lido"}},I={login:function(e){var t=e.email,r=e.password;return function(){var e=Object(m.a)(p.a.mark(function e(a,n){var o,c,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a({type:"LOGIN_REQUEST"}),o=A(t,r,n()),c=o.userId,(i=o.error)?a(C(i)):(localStorage.setItem("userId",c),a({type:"LOGIN_SUCCESS"}));case 4:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()}},_=Object(l.b)(function(e){var t=e.users;return{loading:t.loading,error:t.error}},I)(function(e){var t=e.login,r=e.error,o=e.loading,c=Object(a.useState)({email:"",password:""}),i=Object(j.a)(c,2),s=i[0],l=i[1],u=function(e){var t=e.target,r=t.name,a=t.value;l(Object(E.a)({},s,Object(S.a)({},r,a)))};return n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(s)}},n.a.createElement("input",{onChange:u,type:"email",name:"email",value:s.email}),n.a.createElement("input",{onChange:u,type:"password",name:"password",value:s.password}),r,!o&&n.a.createElement("button",{type:"submit"},"Entrar"))}),T=function(){return n.a.createElement("div",null,n.a.createElement(_,null),n.a.createElement(i.b,{to:"/api-test/register"},"Registrarse"))},x=r(20),k=function(e){var t=e.component,r=Object(x.a)(e,["component"]),a=localStorage.getItem("userId");return n.a.createElement(s.b,Object.assign({render:function(e){return a?n.a.createElement(t,e):n.a.createElement(s.a,{to:"/api-test/login"})}},r))},G=Object(l.b)(function(e){return{loading:e.users.loading}})(function(e){var t=e.component,r=Object(x.a)(e,["component"]),a=localStorage.getItem("userId");return n.a.createElement(s.b,Object.assign({render:function(e){return a?n.a.createElement(s.a,{to:"/api-test"}):n.a.createElement(t,e)}},r))}),L=function(){return n.a.createElement(i.a,null,n.a.createElement(s.d,null,n.a.createElement(k,{path:"/api-test",exact:!0,component:y}),n.a.createElement(k,{path:"/api-test/characters",exact:!0,component:w}),n.a.createElement(G,{path:"/api-test/login",exact:!0,component:T})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=r(12),P=Object(H.c)({characters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CHARACTERS_REQUEST":return Object(E.a)({},e,{loading:!0,error:null});case"GET_CHARACTERS_SUCCESS":var r=t.payload,a=r.characters,n=r.info,o=n.pages,c=n.next,i=n.prev,s=n.count;return Object(E.a)({},e,{infoApi:Object(E.a)({},e.infoApi,{pages:o,next:c,prev:i,count:s,currentPage:e.infoApi.currentPage+1}),loading:!1,characters:[].concat(Object(d.a)(e.characters),Object(d.a)(a)),error:null});case"GET_CHARACTERS_ERROR":var l=t.payload.error;return Object(E.a)({},e,{loading:!1,error:l});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_REQUEST":return Object(E.a)({},e,{loading:!0,error:null});case"LOGIN_SUCCESS":return Object(E.a)({},e,{loading:!1,error:null});case"LOGIN_FAIL":var r=t.payload.error;return Object(E.a)({},e,{loading:!1,error:r});default:return e}}}),U=r(39),N=Object(H.d)(P,Object(H.a)(U.a));c.a.render(n.a.createElement(function(){return n.a.createElement(l.a,{store:N},n.a.createElement(L,null))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[41,1,2]]]);
//# sourceMappingURL=main.24ac731b.chunk.js.map